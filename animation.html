<body>


<script src="https://threejs.org/build/three.min.js"></script>



<canvas style="width:99%" id="FC">


<script id="vertexShader" type="x-shader/x-vertex">

  void main() {
    gl_Position = vec4( position, 1.0 );
  }

</script>


<script id="vertexShader" type="x-shader/x-vertex">

let FC = document.querySelector('#FC');


void main(void) {

  for (float i, e, g, v, u; i++ < 80.; g += e) {
    attribute vec3 p = vec3((.5 * r - FC.xy) / r.y * g, g - 4.);
    p.xz *= rotate2D(t * .2);
    e = v = 2.;

    for (int j; j++ < 12; j > 3 ? e = min(e, length(p.xz + length(p) / u * .55) / v - .005), p.xz = abs(p.xz) - .7, p : p = abs(p) - .9)
      v /= u = dot(p, p), p /= u, p.y = 1.7 - p.y;
    o += vec4(4, 2, 1, 0) * .007 / exp(p.y / v);
  }
}

</script>






<script type="module">

//THREE stuff:

var container;
var camera, scene, renderer;
var uniforms;
var startTime;

init();
animate();

function init() {

  container = document.getElementById( 'container' );

  startTime = Date.now();
  camera = new THREE.Camera();
  camera.position.z = 1;

  scene = new THREE.Scene();

  var geometry = new THREE.PlaneBufferGeometry( 2, 1 );

  uniforms = {
    iGlobalTime: { type: "f", value: 1.0 },
    iResolution: { type: "v2", value: new THREE.Vector2() }
  };

  var material = new THREE.ShaderMaterial( {

    uniforms: uniforms,
    vertexShader: document.getElementById( 'vertexShader' ).textContent,
    fragmentShader: document.getElementById( 'fragmentShader' ).textContent

  } );

  var mesh = new THREE.Mesh( geometry, material );
  scene.add( mesh );

  renderer = new THREE.WebGLRenderer();
  container.appendChild( renderer.domElement );

  onWindowResize();

  window.addEventListener( 'resize', onWindowResize, false );

}

function onWindowResize( event ) {

  uniforms.iResolution.value.x = window.innerWidth;
  uniforms.iResolution.value.y = window.innerHeight;

  renderer.setSize( window.innerWidth, window.innerHeight );

}

function animate() {

  requestAnimationFrame( animate );
  render();

}

function render() {

  var currentTime = Date.now();
  uniforms.iGlobalTime.value = (currentTime - startTime) * 0.001;
  renderer.render( scene, camera );

}

</script>

</body>